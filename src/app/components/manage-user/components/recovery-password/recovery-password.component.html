<div class="manage-user-container">
    <div class="manage-user-header">
        <h1>Gestión de Usuario</h1>
        <p>Ingrese los datos para continuar</p>
    </div>

    <form [formGroup]="recoveryPasswordForm">

        <div class="form-group">

            <label for="username">Usuario</label>
            <input type="text" id="username" formControlName="username" placeholder="Introduce tu usuario" required>
            @if (recoveryPasswordForm.get('username')?.invalid && (recoveryPasswordForm.get('username')?.dirty || recoveryPasswordForm.get('username')?.touched)) {
                <div *ngIf="recoveryPasswordForm.get('username')?.errors as errors">
                    @if (errors['zodError']) {
                        <app-label-type typeMessage="error">
                            {{ errors['zodError'].message}}
                        </app-label-type>
                    }
                </div>
            }
        </div>

        <div class="form-group">
            <label for="idUser">ID de usuario</label>
            <input type="text" id="idUser" formControlName="idUser" placeholder="Introduce tu ID de usuario" required>
            @if (recoveryPasswordForm.get('idUser')?.invalid && (recoveryPasswordForm.get('idUser')?.dirty || recoveryPasswordForm.get('idUser')?.touched)) {
                <div *ngIf="recoveryPasswordForm.get('idUser')?.errors as errors">

                    @if (errors['zodError']) {
                        <app-label-type typeMessage="error">
                            {{ errors['zodError'].message}}
                        </app-label-type>
                    }
                </div>
            }
        </div>

        @if (!userValidated) {
            <div class="container-button-validate">
                <button type="submit" class="btn btn-primary" (click)="validateUser()" [disabled]="validatedUserButton">Validar usuario</button>
            </div>
        }

        @if (userValidated) {
            <div>
                <div class="form-group">
                    <label for="securityCode">Código de Seguridad</label>
                    <input type="text" id="securityCode" formControlName="securityCode" placeholder="Se le ha enviado un código de seguridad, coloquelo acá" required>
                </div>
                <div class="container-button-validate">
                    <button type="submit" class="btn btn-primary" (click)="validateCodeSecurity()">Validar código</button>
                </div>
            </div>
        }

        <!-- <button type="submit" class="btn btn-primary" [disabled]="recoveryPasswordForm.invalid" (click)="getValueForm()">Iniciar Sesión</button> -->

    </form>
</div>
